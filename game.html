<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <meta name="description" content="1337 Squad — детальная информация об игре" />
  <title>1337 Squad — Game</title>
  <link rel="stylesheet" href="style.css"/>
  <style>
    /* small scoped styles for game page */
    .game-wrap{
      max-width:1100px;
      margin:120px auto 80px;
      padding:24px;
      animation: fadeIn 0.6s ease-out;
    }
    .game-hero{
      display:flex;
      gap:32px;
      align-items:flex-start;
      flex-wrap:wrap;
      background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      border-radius:28px;
      padding:32px;
      border:1px solid rgba(255,255,255,0.1);
      backdrop-filter: blur(20px) saturate(180%);
      -webkit-backdrop-filter: blur(20px) saturate(180%);
      box-shadow: 0 20px 60px rgba(0,0,0,0.5), inset 0 1px 0 rgba(255,255,255,0.1);
    }
    .game-hero img{
      width:520px;
      max-width:100%;
      border-radius:20px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.6);
      transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .game-hero img:hover{
      transform: scale(1.02);
    }
    .game-meta{
      flex:1;
      min-width:280px;
    }
    .game-meta h1{
      margin:0 0 16px;
      font-size:36px;
      color:var(--text);
      font-weight:800;
      letter-spacing:0.5px;
      background: linear-gradient(135deg, #ffffff, rgba(107,53,255,0.8));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .game-desc{
      margin-top:16px;
      color:var(--muted);
      line-height:1.7;
      font-size:16px;
    }
    .game-actions{
      margin-top:28px;
      display:flex;
      gap:14px;
      flex-wrap:wrap;
    }
    .btn.big{
      padding:14px 24px;
      font-weight:800;
      border-radius:14px;
      font-size:16px;
    }
    .glitch-text{
      font-family: monospace;
      color:#ff68c8;
      margin-top:12px;
      text-shadow: 0 0 20px rgba(255,104,200,0.5);
      animation: glitch 0.3s infinite;
    }
    @keyframes glitch{
      0%, 100%{transform:translateX(0)}
      25%{transform:translateX(-2px)}
      75%{transform:translateX(2px)}
    }
    @keyframes fadeIn{
      from{opacity:0; transform:translateY(20px)}
      to{opacity:1; transform:translateY(0)}
    }
    @media(max-width:860px){
      .game-wrap{
        padding:16px;
        margin:100px auto 60px;
      }
      .game-hero{
        flex-direction:column;
        padding:24px;
        gap:24px;
      }
      .game-hero img{
        width:100%;
      }
      .game-meta h1{
        font-size:28px;
      }
    }
  </style>
</head>
<body>
  <img src="dance.gif" class="dance-gif" alt="dance" id="danceGif" />
  <nav class="topbar" style="position:fixed;top:0;left:0;right:0;">
    <div style="display:flex;align-items:center;gap:12px">
      <a href="index.html" class="btn small" style="background:transparent;border:1px solid rgba(255,255,255,0.04)">← Назад</a>
    </div>
  </nav>

  <div class="game-wrap" id="gameWrap"></div>

  <script>
    // same data (for standalone)
    const games = [
      { slug:"repo", name:"R.E.P.O.", img:"https://shared.fastly.steamstatic.com/store_item_assets/steam/apps/3241660/2cff5912c1add2e009eb1c1c630a47ac06cb81a1/capsule_616x353.jpg?t=1743517226", desc:"Кооперативный шутер с атмосферой постапокалипсиса — руби, кради, выживай." },
      { slug:"peak", name:"PEAK", img:"https://assetsio.gnwcdn.com/peak-1.jpg?width=1920&height=1920&fit=bounds&quality=70&format=jpg&auto=webp", desc:"Психоделическая экшн-приключуха с сумасшедшим саундтреком." },
      { slug:"the-long-drive", name:"The Long Drive", img:"https://avatars.mds.yandex.net/get-vthumb/1594462/e169fc00fb156e7f4abbd2fead4aa1d2/564x318_1", desc:"Длинная дорога, пустыня, радио и поломки — в путь без возврата." },
      { slug:"minecraft", name:"Minecraft (в разработке)", img:"https://education.minecraft.net/content/dam/education-edition/blogs/nether.png", desc:"Скоро тут появятся кастомные сборки и модпаки специально для сквада.", dev:true },
      { slug:"content-warning", name:"Content Warning", img:"https://i.ytimg.com/vi/OPhjmDN7RUs/maxresdefault.jpg", desc:"Кооперативный трэш для любителей эпичного контента и хайпа." },
      { slug:"headliners", name:"Headliners", img:"https://i.ytimg.com/vi/WzVMuDdOR8E/maxresdefault.jpg", desc:"Музыкальные баттлы и сцена, где каждый хочет стать звездой." },
      { slug:"buckshot-roulette", name:"Buckshot Roulette", img:"https://shared.fastly.steamstatic.com/store_item_assets/steam/apps/2835570/capsule_616x353.jpg", desc:"Дробовик, случай и нервотрёпка. Только для хардкорных." },
      { slug:"guilty-as-sock", name:"Guilty As Sock", img:"https://i.ytimg.com/vi/I5F4KDgj4Q8/maxresdefault.jpg", desc:"Абсурдный квест — суд над носком. Мемы внутри." },
      { slug:"deep-rock", name:"Deep Rock Galactic", img:"https://i.ytimg.com/vi/1AIXfu5F40w/maxresdefault.jpg", desc:"Кооп-шутер про шахтёров и жуков." },
      { slug:"among-us", name:"Among Us", img:"https://cs14.pikabu.ru/post_img/2021/05/27/9/og_og_1622127656226062215.jpg", desc:"Классика предательства и подозрений." },
      { slug:"1337-protocol", name:"1337 Protocol", img:"https://i.imgur.com/ZHLH3VL.jpeg", secret:true, desc:"Запрещённая сборка — открывается только по коду." }
    ];

    function escapeHtml(s){ return (s||'').toString().replace(/[&<>"']/g,c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":"&#39;"}[c])) }

    const params = new URLSearchParams(location.search);
    const id = params.get('id');
    const game = games.find(g=>g.slug===id) || { name:"Неизвестная игра", img:"", desc:"Описание недоступно." };

    const wrap = document.getElementById('gameWrap');

    if(game.secret){
      wrap.innerHTML = `
        <div style="text-align:center">
          <h1 class="glitch-text">!!! ${escapeHtml(game.name)} !!!</h1>
          <p class="glitch-text">${escapeHtml(game.desc)}</p>
        </div>
        <div class="game-hero" style="margin-top:20px">
          <img src="${game.img}" alt="${escapeHtml(game.name)}"/>
          <div class="game-meta">
            <h1>${escapeHtml(game.name)}</h1>
            <p class="game-desc">${escapeHtml(game.desc)}</p>
            <div class="game-actions">
              <button class="btn big" onclick="alert('Доступ закрыт')">[ACCESS DENIED]</button>
              <button class="btn big" onclick="location.href='index.html'">Назад</button>
            </div>
          </div>
        </div>
      `;
      setInterval(()=>{ document.body.style.backgroundPosition = `${Math.random()*100}% ${Math.random()*100}%`; }, 400);
    } else {
      wrap.innerHTML = `
        <div class="game-hero">
          <img src="${game.img}" alt="${escapeHtml(game.name)}"/>
          <div class="game-meta">
            <h1>${escapeHtml(game.name)}</h1>
            <p class="game-desc">${escapeHtml(game.desc)}</p>
            <div class="game-actions">
              <button class="btn big" onclick="downloadBuild('${escapeHtml(game.slug)}')">Скачать сборку</button>
              <button class="btn big" onclick="location.href='index.html'">Назад</button>
            </div>
          </div>
        </div>
      `;
    }

    function downloadBuild(slug){
      if(slug === 'repo'){
        window.open('https://drive.google.com/uc?export=download&id=1OJkquSK7qbGB4FpviqdC2yITJlBimX2K', '_blank');
      } else {
        alert('Скачать сборку: '+slug + '\\nПока прямой ссылки нет — положи файлы в /files/ и поправь код.');
      }
    }

    function downloadBuild(slug){
      if(slug === 'peak'){
        window.open('https://drive.google.com/uc?export=download&id=1vVbmjcJ2RXPNocFjT7WDMee0W2CZlIzU', '_blank');
      } else {
        alert('Скачать сборку: '+slug + '\\nПока прямой ссылки нет — положи файлы в /files/ и поправь код.');
      }
    }

    function downloadBuild(slug){
      if(slug === 'the-long-drive'){
        window.open('https://drive.google.com/uc?export=download&id=1I-x_Rc7FroQa5aPviSBxK1WyOAe5TAOG', '_blank');
      } else {
        alert('Скачать сборку: '+slug + '\\nПока прямой ссылки нет — положи файлы в /files/ и поправь код.');
      }
    }

    function downloadBuild(slug){
      if(slug === 'content-warning'){
        window.open('https://drive.google.com/uc?export=download&id=1tm5ZzT1J6lRfxAHN33DmiItvQWCwDr2y', '_blank');
      } else {
        alert('Скачать сборку: '+slug + '\\nПока прямой ссылки нет — положи файлы в /files/ и поправь код.');
      }
    }

    function downloadBuild(slug){
      if(slug === 'content-warning'){
        window.open('https://drive.google.com/uc?export=download&id=1tm5ZzT1J6lRfxAHN33DmiItvQWCwDr2y', '_blank');
      } else {
        alert('Скачать сборку: '+slug + '\\nПока прямой ссылки нет — положи файлы в /files/ и поправь код.');
      }
    }

    function downloadBuild(slug){
      if(slug === 'guilty-as-sock'){
        window.open(<a href="https://drive.google.com/uc?export=download&id=1jeyzzGOpI5iO5Gt3Va0mfLsIrlN574ho" target="_blank" rel="noopener noreferrer">Скачать</a>
);
      } else {
        alert('Скачать сборку: '+slug + '\\nПока прямой ссылки нет — положи файлы в /files/ и поправь код.');
      }
    }

    function downloadBuild(slug){
      if(slug === 'among-us'){
        window.open('https://drive.google.com/uc?export=download&id=1mGc8SOVGOCGNH5bbVuDZjnbjr2BT9Nlr', '_blank');
      } else {
        alert('Скачать сборку: '+slug + '\\nПока прямой ссылки нет — положи файлы в /files/ и поправь код.');
      }
    }

    // Dance GIF click -> play mya.mp3
    const danceGif = document.getElementById("danceGif");
    if(danceGif){
      let myaAudio = new Audio("mya.mp3");
      danceGif.style.cursor = "pointer";
      danceGif.addEventListener("click", async () => {
        try {
          myaAudio.currentTime = 0;
          await myaAudio.play();
        } catch(err){
          console.warn("Не удалось воспроизвести звук:", err);
        }
      });
    }
  </script>
</body>
</html>
